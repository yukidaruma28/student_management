<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>受講生詳細</title>
</head>
<body>
<h1>受講生詳細</h1>
<form th:action="@{/update}" th:object="${studentDetail}" method="post">

  <!-- エラーメッセージ表示 -->
  <div th:if="${#fields.hasErrors('*')}" style="color: red; margin-bottom: 10px;">
    <p>入力エラーがあります:</p>
    <ul>
      <li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
    </ul>
  </div>

  <div>
    <input type="hidden" th:field="*{student.studentId}" />
    <br>

    <label for="name">名前：</label>
    <input type="text" id="name" th:field="*{student.name}" required />
    <br>

    <label for="furigana">ふりがな：</label>
    <input type="text" id="furigana" th:field="*{student.furigana}" required />
    <br>

    <label for="nickname">ニックネーム：</label>
    <input type="text" id="nickname" th:field="*{student.nickname}"  />
    <br>

    <label for="email">メールアドレス：</label>
    <input type="text" id="email" th:field="*{student.email}" required />
    <br>

    <label for="area">住所：</label>
    <input type="text" id="area" th:field="*{student.area}" required />
    <br>

    <label for="age">年齢：</label>
    <input type="text" id="age" th:field="*{student.age}"  />
    <br>

    <label for="gender">性別：</label>
    <input type="text" id="gender" th:field="*{student.gender}"  />
    <br>

    <label for="remark">備考：</label>
    <input type="text" id="remark" th:field="*{student.remark}"  />
    <br>

    <label for="isDeleted">キャンセル：</label>
    <input type="checkbox" id="isDeleted" th:field="*{student.isDeleted}"  />
    <br>
  </div>

  <div th:each="course, stat : *{studentCourseList}">
<!--    動画講座内のコード-->
<!--    <label for="studentsCoursesId"-->
<!--           th:for="studentCourseList.__${stat.index}__.courseName">受講コースID</label>-->
<!--    <input type="text" id="studentsCoursesId" th:id="studentCourseList.__${stat.index}__.studentsCoursesId"-->
<!--           th:field="*{studentCourseList[__${stat.index}__].studentsCoursesId}">-->

<!--    hiddenにして、IDを隠しつつ、取得した-->
    <input type="hidden" id="studentsCoursesId"
           th:id="studentCourseList.__${stat.index}__.studentsCoursesId"
           th:field="*{studentCourseList[__${stat.index}__].studentsCoursesId}">

    <label for="courseName"
           th:for="studentCourseList.__${stat.index}__.courseName">受講コース名</label>
    <input type="text" id="courseName" th:id="studentCourseList.__${stat.index}__.courseName"
           th:field="*{studentCourseList[__${stat.index}__].courseName}">
  </div>

  <div>
    <button type="submit">更新</button>
  </div>

</form>
</body>
</html>
